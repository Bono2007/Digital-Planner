{% import 'components/calendar_page_header.html' as cph %}
{% import 'components/calendar_pages_navigation.html' as cpn %}
{% for month_num in range(1, 13) -%}
    {% set id = year ~ '-' ~ ('%02d' % month_num) %}
    {% include 'page_header.html' %}
    <div class="content-around p-4">
        <div class="flex justify-between mb-3">
            {{ cph.calendar_page_header([
                    year,
                    calendar.month_name[month_num]
            ]) }}
            {{ cpn.calendar_pages_navigation(
                    month_num != 1,
                    year ~ '-' ~ '%02d' % (month_num - 1),
                    month_num != 12,
                    year ~ '-' ~ '%02d' % (month_num + 1)
            ) }}
        </div>
        <div class="content-center">
            <div class="flex ml-[5rem] text-xl">
                {% for abbr in calendar.day_name -%}
                    <div class="w-[15rem] text-center text-slate-500 dark:text-slate-300">{{ abbr }}</div>
                {% endfor -%}
            </div>
            {% for week in calendar.Calendar().monthdatescalendar(year, month_num) -%}
                <div class="flex h-[10rem]">
                    {% set week_num = week[0].isocalendar().week %}
                    <div class="w-[5rem] text-xl mt-16 {{ "text-slate-300" if week[0].year != week[-1].year }}">
                        <a href="#{{ week[0].year if week[-1].year != (year + 1) else week[-1].year }}-{{ 'W%02d' % week_num }}">
                            <p class="-rotate-90">
                                Week {{ week_num }}
                            </p>
                        </a>
                    </div>
                    <div class="grid grid-cols-7 gap-4 items-stretch font-medium p-2">
                    {% for date in week -%}
                        <div class="w-[14rem] content-box">
                            <p class="{{ "text-slate-500" if date.month != month_num }}">
                                <a href="#{{ ('%02d-%02d-%d' % (date.day, date.month, date.year)) }}">
                                    {{ date.day }}
                                </a>
                            </p>
                        </div>
                    {% endfor -%}
                    </div>
                </div>
            {% endfor -%}
        </div>
    </div>
    {% set curr_template = "calendar" %}
    {% include 'page_footer.html' %}
{% endfor -%}